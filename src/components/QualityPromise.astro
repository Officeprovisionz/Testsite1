---
import { siteConfig } from '@/data/siteConfig';
import WaveDivider from '@/components/WaveDivider.astro';
import SectionHeader from '@/components/ui/SectionHeader.astro';

type Props = {
  id?: string;
  heading?: string;
  description?: string;
  showWave?: boolean;
};

const {
  id,
  heading = 'Our quality promise',
  description = 'Checklist-driven service with fast follow-up. If something is missed, tell us within 24 hours and we’ll work with you to make it right.',
  showWave = true,
} = Astro.props;

const base = import.meta.env.BASE_URL;
const href = (path: string) => `${base}${path.replace(/^\/+/, '')}`;
const telHref = `tel:${siteConfig.contact.phoneE164}`;
---

<section id={id} class="section section-muted section-creative scroll-mt-20 pb-0">
  <div class="container-page">
    <SectionHeader eyebrow="Trust" heading={heading} description={description}>
      <a slot="actions" class="btn-secondary" href={href('checklist/')}>Preview the checklist</a>
      <a slot="actions" class="btn-primary" href={href('contact/')}>Request a quote</a>
    </SectionHeader>

    <div class="mt-10 grid gap-5 md:grid-cols-3">
      <div class="glass-panel relative overflow-hidden p-6">
        <div
          aria-hidden="true"
          class="from-brand-200/14 pointer-events-none absolute inset-0 bg-gradient-to-br via-transparent to-brand-300/10"
        >
        </div>
        <div class="relative">
          <p class="text-strong text-sm font-semibold">Checklist verification</p>
          <p class="text-muted mt-2 text-sm leading-relaxed">
            Every visit follows a written scope and checklist so expectations stay consistent.
          </p>
          <ul class="check-list check-list--compact text-muted text-sm">
            <li>
              <span class="check-icon check-icon--sm" aria-hidden="true">✓</span>
              <span>Clear scope + add-ons</span>
            </li>
            <li>
              <span class="check-icon check-icon--sm" aria-hidden="true">✓</span>
              <span>Consistent delivery across crews</span>
            </li>
          </ul>
        </div>
      </div>

      <div class="glass-card relative overflow-hidden p-6">
        <div
          aria-hidden="true"
          class="from-brand-200/18 to-brand-300/14 pointer-events-none absolute inset-0 bg-gradient-to-br via-transparent"
        >
        </div>
        <div class="relative">
          <p class="text-strong text-sm font-semibold">Fast fixes (24-hour window)</p>
          <p class="text-muted mt-2 text-sm leading-relaxed">
            If something was missed, flag it within 24 hours. We’ll work with you to resolve it
            promptly.
          </p>
          <div class="mt-5 flex items-center gap-3">
            <a class="btn-secondary" href={telHref}>Call/Text</a>
            <a class="btn-secondary" href={`mailto:${siteConfig.contact.email}`}>Email</a>
          </div>
          <p class="text-subtle mt-3 text-xs">One point of contact. No runaround.</p>
        </div>
      </div>

      <div class="glass-panel relative overflow-hidden p-6">
        <div
          aria-hidden="true"
          class="from-brand-200/14 pointer-events-none absolute inset-0 bg-gradient-to-br via-transparent to-brand-300/10"
        >
        </div>
        <div class="relative">
          <p class="text-strong text-sm font-semibold">Professional standards</p>
          <p class="text-muted mt-2 text-sm leading-relaxed">
            Insured service, respectful crews, and clear communication during business hours.
          </p>
          <ul class="check-list check-list--compact text-muted text-sm">
            <li>
              <span class="check-icon check-icon--sm" aria-hidden="true">✓</span>
              <span>Insured (details available during scoping)</span>
            </li>
            <li>
              <span class="check-icon check-icon--sm" aria-hidden="true">✓</span>
              <span>Quick replies during business hours</span>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  {
    showWave ? (
      <div class="relative -mb-px mt-12">
        <WaveDivider tone="bg" class="absolute bottom-0 left-0 right-0" />
      </div>
    ) : null
  }
</section>

---
import BaseLayout from '@/layouts/BaseLayout.astro';
import Header from '@/components/Header.astro';
import { HeroPro } from '@/components/HeroPro';
import ExpertiseGallery from '@/components/ExpertiseGallery.astro';
import BridgeDivider from '@/components/BridgeDivider.astro';
import ConversionStrip from '@/components/ConversionStrip.astro';
import FAQ from '@/components/FAQ.astro';
import Footer from '@/components/Footer.astro';
import { getPublicResponsiveImage } from '@/lib/publicImages';
import { pickGalleryItems } from '@/data/gallery';

// Homepage hero images
const heroItems = pickGalleryItems('home-hero', 2);
const heroPrimary = heroItems[0];
const heroSecondary = heroItems[1] ?? heroPrimary;

const heroImage = heroPrimary
  ? getPublicResponsiveImage(heroPrimary.src, import.meta.env.BASE_URL, { sizes: '100vw' })
  : { src: '', srcSet: undefined, sizes: '100vw' };

const heroImageMobile = heroSecondary
  ? getPublicResponsiveImage(heroSecondary.src, import.meta.env.BASE_URL, { sizes: '100vw' })
  : heroImage;
---

<BaseLayout>
  <Header slot="header" transparent={true} />
  <HeroPro
    client:load
    imageSrc={heroImage.src}
    imageSrcSet={heroImage.srcSet}
    imageSizes={heroImage.sizes}
    imageSrcMobile={heroImageMobile.src}
    imageSrcSetMobile={heroImageMobile.srcSet}
    imageSizesMobile={heroImageMobile.sizes}
    imagePosition="50% 45%"
  />

  <BridgeDivider />

  <ExpertiseGallery />

  <ConversionStrip
    tone="surface"
    eyebrow="Next step"
    heading="Request a quote"
    description="Send your space basics and priorities. We'll confirm scope + access details and reply with a clear, written quote."
    showChecklist={true}
    showEmail={false}
  />

  <FAQ />

  <Footer slot="footer" />
</BaseLayout>

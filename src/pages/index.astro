---
import BaseLayout from '@/layouts/BaseLayout.astro';
import Header from '@/components/Header.astro';
import { HeroPro } from '@/components/HeroPro';
import { ServicesPro } from '@/components/ServicesPro';
import BridgeDivider from '@/components/BridgeDivider.astro';
import Gallery from '@/components/Gallery.astro';
import ConversionStrip from '@/components/ConversionStrip.astro';
import type { GalleryItem } from '@/data/gallery';
import FAQ from '@/components/FAQ.astro';
import Footer from '@/components/Footer.astro';
import { makeHref } from '@/lib/nav';
import { getPublicResponsiveImage } from '@/lib/publicImages';

const href = makeHref(import.meta.env.BASE_URL);

// Homepage hero image: use an existing local stock photo (responsive variants already generated).
const heroImage = getPublicResponsiveImage(
  'gallery/services/detail-02.jpg',
  import.meta.env.BASE_URL,
  {
    sizes: '100vw',
  }
);

const heroImageMobile = getPublicResponsiveImage(
  'gallery/services/janitorial-02.jpg',
  import.meta.env.BASE_URL,
  {
    sizes: '100vw',
  }
);

const proofGallery: GalleryItem[] = [
  {
    src: 'gallery/services/facilities-01.jpg',
    caption: 'Client-ready reception',
    alt: 'Entry and common areas reset for a professional first impression',
  },
  {
    src: 'gallery/services/janitorial-01.jpg',
    caption: 'Conference rooms reset',
    alt: 'Tables, floors, touchpoints—cleaned consistently visit after visit',
  },
  {
    src: 'gallery/services/janitorial-03.jpg',
    caption: 'Restrooms serviced',
    alt: 'Sanitized, restocked, and checked—so issues don’t linger',
  },
  {
    src: 'gallery/services/restocking-01.jpg',
    caption: 'Breakrooms refreshed',
    alt: 'Counters, sinks, and high-touch areas cleaned without cutting corners',
  },
  {
    src: 'gallery/services/detail-02.jpg',
    caption: 'High-touch focus',
    alt: 'Handles, switches, and shared surfaces prioritized every visit',
  },
  {
    src: 'gallery/services/detail-01.jpg',
    caption: 'Floors that stay sharp',
    alt: 'Vacuuming, mopping, and detailing handled per scope and schedule',
  },
  {
    src: 'gallery/services/facilities-03.jpg',
    caption: 'Workstations reset',
    alt: 'Desks, shared spaces, and touchpoints kept client-ready without disruption',
  },
  {
    src: 'gallery/services/facilities-02.jpg',
    caption: 'Glass + partitions',
    alt: 'Interior glass and partitions cleaned for a clear, polished look',
  },
  {
    src: 'gallery/services/detail-03.jpg',
    caption: 'Carpet + entry lanes',
    alt: 'High-traffic zones maintained so the whole space stays sharp',
  },
  {
    src: 'gallery/services/restocking-02.jpg',
    caption: 'Snack restocking',
    alt: 'Pantry snacks and breakroom essentials restocked so teams stay fueled',
  },
  {
    src: 'gallery/services/restocking-03.jpg',
    caption: 'Coffee station restock',
    alt: 'Coffee and espresso station supplies restocked and organized for a smooth workday',
  },
];
---

<BaseLayout>
  <Header slot="header" transparent={true} />
  <HeroPro
    client:load
    imageSrc={heroImage.src}
    imageSrcSet={heroImage.srcSet}
    imageSizes={heroImage.sizes}
    imageSrcMobile={heroImageMobile.src}
    imageSrcSetMobile={heroImageMobile.srcSet}
    imageSizesMobile={heroImageMobile.sizes}
    imagePosition="50% 45%"
  />

  <BridgeDivider />

  <ServicesPro client:visible />

  <Gallery
    id="proof"
    eyebrow="Proof"
    heading="What clean looks like"
    description="Tap any photo to zoom. Clear scope, consistent checklists, and communication-first service."
    showTip={false}
    variant="overlay"
    items={proofGallery}
    secondaryCtaHref={href('about/#proof')}
    secondaryCtaLabel="View proof"
  />

  <ConversionStrip
    tone="surface"
    eyebrow="Next step"
    heading="Request a quote"
    description="Send your space basics and priorities. We’ll confirm scope + access details and reply with a clear, written quote."
    showChecklist={true}
    showEmail={false}
  />

  <FAQ />

  <Footer slot="footer" />
</BaseLayout>

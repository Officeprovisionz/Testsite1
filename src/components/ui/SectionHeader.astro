---
import Eyebrow from './Eyebrow.astro';

export type Props = {
  eyebrow?: string;
  heading: string;
  description?: string;
  /**
   * `left` matches the default "section-head" layout (title on left, actions on right).
   * `center` stacks and centers content (useful for section intros).
   */
  align?: 'left' | 'center';
  /** Heading tag to render. */
  as?: 'h1' | 'h2' | 'h3';
  /** Additional classes for the outer wrapper. */
  class?: string;
};

const {
  eyebrow,
  heading,
  description,
  align = 'left',
  as = 'h2',
  class: className = '',
} = Astro.props as Props;

const HeadingTag = as;

const headingClass = as === 'h1' ? 'heading-1' : as === 'h3' ? 'heading-3' : 'heading-2';
---

<div
  class:list={[
    'section-head',
    align === 'center' ? 'text-center sm:flex-col sm:items-center' : '',
    className,
  ]}
>
  <div class:list={[align === 'center' ? 'mx-auto max-w-2xl lg:max-w-3xl' : '']}>
    {eyebrow ? <Eyebrow>{eyebrow}</Eyebrow> : null}
    <HeadingTag class={headingClass}>{heading}</HeadingTag>
    {description ? <p class="lede mt-4 lg:mt-5 lg:text-lg">{description}</p> : null}
  </div>

  <div
    class:list={[
      'flex flex-col gap-3 sm:flex-row sm:items-center',
      align === 'center' ? 'mt-6 sm:justify-center' : 'sm:justify-end',
      'empty:hidden',
    ]}
  >
    <slot name="actions" />
  </div>
</div>

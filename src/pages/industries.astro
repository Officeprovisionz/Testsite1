---
import BaseLayout from '@/layouts/BaseLayout.astro';
import Header from '@/components/Header.astro';
import Footer from '@/components/Footer.astro';
import { PageHeroPro } from '@/components/PageHeroPro';
import { IndustriesPro } from '@/components/IndustriesPro';
import HowItWorks from '@/components/HowItWorks.astro';
import { siteConfig } from '@/data/siteConfig';
import { makeHref } from '@/lib/nav';
import { getPublicResponsiveImage } from '@/lib/publicImages';
import { pickGalleryItems } from '@/data/gallery';

const title = `Industries | ${siteConfig.brand.name}`;
const description =
  'Commercial cleaning for offices, property management, and customer spaces—scoped clearly with checklist-based delivery.';
const href = makeHref(import.meta.env.BASE_URL);

const heroItems = pickGalleryItems('industries-hero', 2);
const heroPrimary = heroItems[0];
const heroSecondary = heroItems[1] ?? heroPrimary;

const heroImage = heroPrimary
  ? getPublicResponsiveImage(heroPrimary.src, import.meta.env.BASE_URL, {
      sizes: '100vw',
    })
  : { src: '', srcSet: undefined, sizes: '100vw' };

const heroImageMobile = heroSecondary
  ? getPublicResponsiveImage(heroSecondary.src, import.meta.env.BASE_URL, {
      sizes: '100vw',
    })
  : heroImage;
---

<BaseLayout title={title} description={description}>
  <Header slot="header" />

  <PageHeroPro
    client:load
    title="Industries we serve"
    description="Built for real workplaces. Clear scope, consistent checklists, and fast communication—so cleaning stays off your plate."
    imageSrc={heroPrimary?.src}
    imageSrcMobile={heroSecondary?.src}
    imageAlt={heroPrimary?.alt ?? ''}
    imageSrcSet={heroImage.srcSet}
    imageSizes={heroImage.sizes}
    imageSrcSetMobile={heroImageMobile.srcSet}
    imageSizesMobile={heroImageMobile.sizes}
    imagePosition="50% 40%"
  />

  <IndustriesPro client:visible />

  <HowItWorks id="process" heading="A process built for operations" waveTone="surface-muted" />

  <section
    id="quote"
    class="section section-muted section-creative scroll-mt-20 lg:py-28"
    aria-label="Request a quote"
  >
    <div class="container-page lg:max-w-5xl">
      <div class="glass-card relative overflow-hidden p-7 sm:p-10 lg:p-12">
        <div
          aria-hidden="true"
          class="from-brand-200/18 to-brand-300/12 pointer-events-none absolute inset-0 bg-gradient-to-br via-transparent"
        >
        </div>
        <div class="relative grid gap-6 md:grid-cols-2 md:items-center lg:gap-10">
          <div>
            <p class="eyebrow">Next step</p>
            <h2 class="heading-2 mt-2 lg:text-4xl">Request a quote</h2>
            <p class="lede lg:text-lg">
              Tell us your industry, services needed, and frequency. We’ll confirm scope and send a
              clear written quote.
            </p>
          </div>
          <div class="flex flex-col gap-3 md:justify-self-end">
            <a class="btn-secondary w-full sm:w-auto" href={href('checklist/')}>
              Preview checklist
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <Footer slot="footer" />
</BaseLayout>
